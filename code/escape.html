<!doctype html><html><head><meta charset='utf-8'><!-- Kevin Cantu Â© 2011 -->

<title>Escaping HTML entities</title>


</head>
<body>
<div class='contentSection'>
   <div class='contentHeader'> <h1>Escaping HTML entities in code and pre tags</h1></div>


<p>The following contains a bunch of characters which could or should be
   escaped in HTML.
</p>


<pre style='border: 1px solid "#444' class='entityify'>
f<types>    
f(x)    
prefix operators (+op, -op, %, %%, &, &&, !op, ~op)    
| (pattern match)
f x (function application)    
** op
* op, / op, % op    
- op, + op, (binary)    
:?>, :?  
::
^ op
&&&, |||, ^^^, ~~~, <<<, > >>    
< op, > op, =, | op, & op    
&, &&    
or, ||    
,  
<pre>
banana
<split>
</pre>
:=
->
;
| (pipe)    
</pre>



<script>
   // TODO: For my purposes, this is enough, but adding more wouldn't hurt.
   var entityify = function (str) {
      return (str+"").replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');
   };

   // this function is fun...
   var entityifyAll = function () {
      var els = [];

      if (document.getElementsByClassName) {
         els = document.getElementsByClassName('entityify');
      } else {
         // IE8
         var s = document.getElementsByTagName('pre');
         for (var j = 0; j < s.length; j += 1) {
            if (s[j] && s[j].className && s[j].className === 'entityify') {
               els.push(s[j]);
            }
         } 
      }

      for (var i = 0; i < els.length; i += 1) {
         var el = els[i];

         el.innerHTML = entityify(el.innerHTML);
      }
   };


   try {
      entityifyAll();
   } catch(e) { alert('tried ent: ' + e.message); }






</script>
</body>
</html>
